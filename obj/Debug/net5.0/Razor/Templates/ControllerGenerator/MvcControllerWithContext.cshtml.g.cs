#pragma checksum "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "35a30586da77cb619db8fc2c17da5c27561536c6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Templates_ControllerGenerator_MvcControllerWithContext), @"mvc.1.0.view", @"/Templates/ControllerGenerator/MvcControllerWithContext.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
using System.Collections.Generic;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
using System.Linq;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"35a30586da77cb619db8fc2c17da5c27561536c6", @"/Templates/ControllerGenerator/MvcControllerWithContext.cshtml")]
    public class Templates_ControllerGenerator_MvcControllerWithContext : Microsoft.VisualStudio.Web.CodeGeneration.Templating.RazorTemplateBase
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Microsoft.AspNetCore.Mvc;\r\nusing Microsoft.AspNetCore.Mvc.Rendering;\r\nusing Microsoft.EntityFrameworkCore;\r\n");
#nullable restore
#line 11 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var namespaceName in Model.RequiredNamespaces)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("using ");
#nullable restore
#line 14 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
   Write(namespaceName);

#line default
#line hidden
#nullable disable
            WriteLiteral(";\r\n");
#nullable restore
#line 15 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\nnamespace ");
#nullable restore
#line 18 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
     Write(Model.ControllerNamespace);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n{\r\n");
#nullable restore
#line 20 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    string routePrefix;
    if (String.IsNullOrEmpty(Model.AreaName))
    {
        routePrefix = Model.ControllerRootName;
    }
    else
    {
        routePrefix = Model.AreaName + "/" + Model.ControllerRootName;
    }
    var modelProperties = new List<string>();
    foreach (var property in Model.ModelMetadata.Properties)
    {
        if (property.Scaffold)
        {
            modelProperties.Add(property.PropertyName);
        }
    }
    var bindString = string.Join(",", modelProperties);
    var contextTypeName = Model.ContextTypeName;
    var entitySetName = Model.ModelMetadata.EntitySetName;
    var entitySetVar = Model.EntitySetVariable ??
        (String.IsNullOrEmpty(entitySetName)
            ? entitySetName
            : (entitySetName.Substring(0, length: 1).ToLowerInvariant() + entitySetName.Substring(1)));
    var primaryKeyName = Model.ModelMetadata.PrimaryKeys[0].PropertyName;
    var primaryKeyShortTypeName = Model.ModelMetadata.PrimaryKeys[0].ShortTypeName;
    var primaryKeyType = Model.ModelMetadata.PrimaryKeys[0].TypeName;
    var primaryKeyNullableTypeName = GetNullableTypeName(primaryKeyType, primaryKeyShortTypeName);
    var lambdaVar = Model.ModelVariable[0];
    var relatedProperties = new Dictionary<string, dynamic>();
    foreach (var nav in Model.ModelMetadata.Navigations)
    {
        relatedProperties.Add(nav.AssociationPropertyName, nav);

    }

    var inlineIncludes = "";
    foreach (var property in relatedProperties.Values)
    {
        inlineIncludes += string.Format("{0}                .Include({1} => {1}.{2})", Environment.NewLine, lambdaVar, property.AssociationPropertyName);
    }

    if (!string.IsNullOrEmpty(Model.AreaName))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("    ");
#nullable restore
#line 65 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
 Write(string.Format("[Area(\"{0}\")]", Model.AreaName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 66 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("    public class ");
#nullable restore
#line 68 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(Model.ControllerName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : Controller\r\n    {\r\n        private readonly ");
#nullable restore
#line 70 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(Model.ContextTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" _context;\r\n\r\n        public ");
#nullable restore
#line 72 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ControllerName);

#line default
#line hidden
#nullable disable
            WriteLiteral("(");
#nullable restore
#line 72 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                  Write(Model.ContextTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" context)\r\n        {\r\n            _context = context;\r\n        }\r\n\r\n        // GET: ");
#nullable restore
#line 77 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            WriteLiteral("        ");
            WriteLiteral("public async Task<IActionResult> Index()\r\n        ");
            WriteLiteral("{\r\n");
#nullable restore
#line 81 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    var includeExpressions = "";
    includeExpressions = String.Join("", relatedProperties
        .Values
        .Select(property => String.Format(".Include({0} => {0}.{1})", lambdaVar, property.AssociationPropertyName)));
    if (!String.IsNullOrEmpty(includeExpressions))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("var ");
#nullable restore
#line 87 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
             Write(entitySetVar);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = _context.");
#nullable restore
#line 87 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                      Write(entitySetName);

#line default
#line hidden
#nullable disable
#nullable restore
#line 87 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                    Write(includeExpressions);

#line default
#line hidden
#nullable disable
            WriteLiteral(";\r\n            ");
            WriteLiteral("return View(await ");
#nullable restore
#line 88 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                            Write(entitySetVar);

#line default
#line hidden
#nullable disable
            WriteLiteral(".ToListAsync());\r\n");
#nullable restore
#line 89 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }
    else
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("return View(await _context.");
#nullable restore
#line 92 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                     Write(entitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(".ToListAsync());\r\n");
#nullable restore
#line 93 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("        }\r\n\r\n        // GET: ");
#nullable restore
#line 96 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("/Details/5\r\n        public async Task<IActionResult> Details(");
#nullable restore
#line 97 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                            Write(primaryKeyNullableTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
#nullable restore
#line 104 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = await _context.");
#nullable restore
#line 104 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
#nullable disable
#nullable restore
#line 104 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(inlineIncludes);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                .FirstOrDefaultAsync(m => m.");
#nullable restore
#line 105 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                       Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == id);\r\n            if (");
#nullable restore
#line 106 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            return View(");
#nullable restore
#line 111 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n        }\r\n\r\n        // GET: ");
#nullable restore
#line 114 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("/Create\r\n        public IActionResult Create()\r\n        {\r\n");
#nullable restore
#line 117 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var property in relatedProperties.Values)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("ViewData[\"");
#nullable restore
#line 120 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"] = new SelectList(_context.");
#nullable restore
#line 120 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(", \"");
#nullable restore
#line 120 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 120 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(property.DisplayPropertyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\");\r\n");
#nullable restore
#line 121 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("            return View();\r\n        }\r\n\r\n        // POST: ");
#nullable restore
#line 125 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"/Create
        // To protect from overposting attacks, enable the specific properties you want to bind to.
        // For more details, see http://go.microsoft.com/fwlink/?LinkId=317598.
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Create([Bind(""");
#nullable restore
#line 130 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(bindString);

#line default
#line hidden
#nullable disable
            WriteLiteral("\")] ");
#nullable restore
#line 130 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(Model.ModelTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 130 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(")\r\n        {\r\n            if (ModelState.IsValid)\r\n            {\r\n");
#nullable restore
#line 134 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    if (!string.IsNullOrEmpty(primaryKeyType) && IsGuid(primaryKeyType))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                ");
#nullable restore
#line 137 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
              Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 137 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                    Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = Guid.NewGuid();\r\n");
#nullable restore
#line 138 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                ");
            WriteLiteral("_context.Add(");
#nullable restore
#line 139 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                          Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n                ");
            WriteLiteral("await _context.SaveChangesAsync();\r\n");
            WriteLiteral("                return RedirectToAction(nameof(Index));\r\n            }\r\n");
#nullable restore
#line 143 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var property in relatedProperties.Values)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("ViewData[\"");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"] = new SelectList(_context.");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(", \"");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(property.DisplayPropertyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", ");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 146 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                                       Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n");
#nullable restore
#line 147 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("            return View(");
#nullable restore
#line 149 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n        }\r\n\r\n        // GET: ");
#nullable restore
#line 152 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("/Edit/5\r\n        public async Task<IActionResult> Edit(");
#nullable restore
#line 153 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                         Write(primaryKeyNullableTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
#nullable restore
#line 160 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = await _context.");
#nullable restore
#line 160 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(".FindAsync(id);\r\n            if (");
#nullable restore
#line 161 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n");
#nullable restore
#line 165 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var property in relatedProperties.Values)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("ViewData[\"");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"] = new SelectList(_context.");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(", \"");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(property.DisplayPropertyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", ");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 168 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                                       Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n");
#nullable restore
#line 169 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("            return View(");
#nullable restore
#line 171 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n        }\r\n\r\n        // POST: ");
#nullable restore
#line 174 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"/Edit/5
        // To protect from overposting attacks, enable the specific properties you want to bind to.
        // For more details, see http://go.microsoft.com/fwlink/?LinkId=317598.
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Edit(");
#nullable restore
#line 179 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                         Write(primaryKeyShortTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id, [Bind(\"");
#nullable restore
#line 179 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                             Write(bindString);

#line default
#line hidden
#nullable disable
            WriteLiteral("\")] ");
#nullable restore
#line 179 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                            Write(Model.ModelTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 179 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(")\r\n        {\r\n            if (id != ");
#nullable restore
#line 181 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 181 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                      Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(")\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            if (ModelState.IsValid)\r\n            {\r\n                try\r\n                {\r\n                    _context.Update(");
#nullable restore
#line 190 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                               Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n                    await _context.SaveChangesAsync();\r\n                }\r\n                catch (DbUpdateConcurrencyException)\r\n                {\r\n                    if (!");
#nullable restore
#line 195 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                     Write(Model.ModelTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("Exists(");
#nullable restore
#line 195 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 195 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                      Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"))
                    {
                        return NotFound();
                    }
                    else
                    {
                        throw;
                    }
                }
                return RedirectToAction(nameof(Index));
            }
");
#nullable restore
#line 206 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var property in relatedProperties.Values)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("ViewData[\"");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"] = new SelectList(_context.");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(", \"");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(property.DisplayPropertyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", ");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                 Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(".");
#nullable restore
#line 209 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                                                                       Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n");
#nullable restore
#line 210 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("            return View(");
#nullable restore
#line 212 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n        }\r\n\r\n        // GET: ");
#nullable restore
#line 215 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("/Delete/5\r\n        public async Task<IActionResult> Delete(");
#nullable restore
#line 216 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                           Write(primaryKeyNullableTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
#nullable restore
#line 223 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = await _context.");
#nullable restore
#line 223 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
#nullable disable
#nullable restore
#line 223 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(inlineIncludes);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                .FirstOrDefaultAsync(m => m.");
#nullable restore
#line 224 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                       Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == id);\r\n            if (");
#nullable restore
#line 225 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            return View(");
#nullable restore
#line 230 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n        }\r\n\r\n        // POST: ");
#nullable restore
#line 233 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
#nullable disable
            WriteLiteral("/Delete/5\r\n        [HttpPost, ActionName(\"Delete\")]\r\n        [ValidateAntiForgeryToken]\r\n        public async Task<IActionResult> DeleteConfirmed(");
#nullable restore
#line 236 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                    Write(primaryKeyShortTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id)\r\n        {\r\n            var ");
#nullable restore
#line 238 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(" = await _context.");
#nullable restore
#line 238 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(".FindAsync(id);\r\n            _context.");
#nullable restore
#line 239 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(entitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(".Remove(");
#nullable restore
#line 239 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                        Write(Model.ModelVariable);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\r\n            await _context.SaveChangesAsync();\r\n            return RedirectToAction(nameof(Index));\r\n        }\r\n\r\n        private bool ");
#nullable restore
#line 244 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(Model.ModelTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("Exists(");
#nullable restore
#line 244 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                             Write(primaryKeyShortTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" id)\r\n        {\r\n            return _context.");
#nullable restore
#line 246 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                        Write(entitySetName);

#line default
#line hidden
#nullable disable
            WriteLiteral(".Any(e => e.");
#nullable restore
#line 246 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                   Write(primaryKeyName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" == id);\r\n        }\r\n    }\r\n}\r\n");
        }
        #pragma warning restore 1998
#nullable restore
#line 251 "/home/mauricio/vscodeProjects/app-mvc/MvcMovie/MvcMovie/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
 
    // This function converts the primary key short type name to its nullable equivalent when possible. This is required to make
    // sure that an HTTP 400 error is thrown when the user tries to access the edit, delete, or details action with null values.
    string GetNullableTypeName(string typeName, string shortTypeName)
    {
        // The exceptions are caught because if for any reason the type is user defined, then the short type name will be used.
        // In that case the user will receive a server error if null is passed to the edit, delete, or details actions.
        Type primaryKeyType = null;
        try
        {
            primaryKeyType = Type.GetType(typeName);
        }
        catch
        {
        }
        if (primaryKeyType != null && (!Microsoft.VisualStudio.Web.CodeGeneration.Templating.TypeUtilities.IsNullable(primaryKeyType) || IsGuid(typeName)))
        {
            return shortTypeName + "?";
        }
        return shortTypeName;
    }

    bool IsGuid(string typeName) {
        return String.Equals("System.Guid", typeName, StringComparison.OrdinalIgnoreCase);
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
